# Banana Bot (Gemini Telegram Bot)

üîó –ú–æ—â–Ω—ã–π, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ–π –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ Google Gemini —á–µ—Ä–µ–∑ Webhooks. –ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Ç–µ–∫—Å—Ç–æ–º, –≥–æ–ª–æ—Å–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –∞–Ω–∞–ª–∏–∑–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –Ω–∞—Ç–∏–≤–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–∞—Ä—Ç–∏–Ω–æ–∫.

## –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

* **ü§ñ –¢–µ–∫—Å—Ç–æ–≤—ã–π –ò–ò:** –û—Ç–ø—Ä–∞–≤–∫–∞ –±—ã—Å—Ç—Ä—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ø–æ—Å–ª–µ–¥–Ω–∏–º –º–æ–¥–µ–ª—è–º Gemini.
* **üëÄ –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –±–æ—Ç–∞ –∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –µ—ë –æ–ø–∏—Å–∞—Ç—å, —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á—É –∏–ª–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å.
* **üéß –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è & –ê—É–¥–∏–æ:** –ë–æ—Ç —Å–ª—É—à–∞–µ—Ç –≥–æ–ª–æ—Å–æ–≤—ã–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—é —Å –æ—Ç–≤–µ—Ç–æ–º.
* **üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:** –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –ø–æ —Ç–µ–∫—Å—Ç—É —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–¥–æ–≤—É—é –º–æ–¥–µ–ª—å `imagen-3.0-generate-002`.
* **ü™Ñ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ:** –£–º–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —á–µ—Ä–µ–∑ Imagen 3. –í—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ —Ñ–æ—Ç–æ –∏ –ø–∏—à–µ—Ç–µ —Ç–µ–∫—Å—Ç–æ–º, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –Ω–µ–º.
* **üß† –ö–∞—Å–∫–∞–¥–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π:** –£–º–Ω—ã–π –∫–∞—Å–∫–∞–¥ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–≤–æ–¥—è —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞—Ö API (–æ—Ç–ª–æ–≤ 429, 503 –æ—à–∏–±–æ–∫).
* **üá∑üá∫ –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ –∏ —Ä–µ–∂–∏–º–∞–º–∏.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–µ–π (–£–º–Ω—ã–π –ö–∞—Å–∫–∞–¥)
–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Telegram –Ω–∞–∂–∞—Ç–∏–µ–º –∫–Ω–æ–ø–∫–∏, –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤. –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ —Ñ–æ—Ä–º–∞—Ç–æ–≤:

* `üíé –†–µ–∂–∏–º: PRO` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ –ª–æ–≥–∏–∫–∞:
  * –¢–µ–∫—Å—Ç / –ì–æ–ª–æ—Å / Vision: `gemini-2.5-pro` -> `gemini-1.5-pro`
  * –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–∏–Ω–æ–∫: `imagen-3.0-generate-002` -> `imagen-3.0-generate-001`
  * –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `imagen-3.0-generate-002` -> `imagen-3.0-generate-001`

* `üöÄ –†–µ–∂–∏–º: FLASH` - –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å, –ø–æ–¥—Ö–æ–¥—è—â–∞—è –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á:
  * –¢–µ–∫—Å—Ç / –ì–æ–ª–æ—Å / Vision: `gemini-2.5-flash` -> `gemini-1.5-flash`
  * –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–∏–Ω–æ–∫: `imagen-3.0-fast-001` -> `imagen-3.0-generate-001`
  * –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `imagen-3.0-fast-001` -> `imagen-3.0-generate-001`

*(–ü—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö –±–æ—Ç —É–º–µ–µ—Ç —Å–∞–º –¥–µ–ª–∞—Ç—å —Ñ–æ–ª–ª–±—ç–∫–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –º–æ–¥–µ–ª–∏ –≤ –∫–∞—Å–∫–∞–¥–µ)*

## –°—Ç–µ–∫ –∏ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
* Python 3.10+
* `aiogram 3.x`
* `aiohttp` (–¥–ª—è Webhook-—Å–µ—Ä–≤–µ—Ä–∞)
* `google-genai` (–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Google GenAI SDK, –º–∏–Ω–∏–º–∞–ª—å–Ω–æ 0.5.0)

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
1. –°–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ä–∫ –∏–ª–∏ —Å–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
2. –ü—Ä–æ–ø–∏—à–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `.env` —Ñ–∞–π–ª –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ (Render, Railway, Heroku):
   * `TELEGRAM_BOT_TOKEN`: —Ç–æ–∫–µ–Ω –æ—Ç –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather.
   * `GOOGLE_API_KEY`: API –∫–ª—é—á, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤ Google AI Studio.
   * `ALLOWED_USERS`: —Å–ø–∏—Å–æ–∫ Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–∑–∞–∫—Ä—ã—Ç—ã–π –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–æ—Ç—É).
   * `WEBHOOK_URL`: –ø—É–±–ª–∏—á–Ω—ã–π URL-–∞–¥—Ä–µ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç Telegram (–Ω–∞–ø—Ä–∏–º–µ—Ä, https://my-bot.onrender.com).
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ (–∏ –≤–µ–±—Ö—É–∫): `python bot.py`

*(–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å –ø–æ—Ä—Ç, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `PORT`, –∏–ª–∏ –ø–æ—Ä—Ç 8080 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)*